import React, { createRef } from 'react';

import { useScreenshot } from 'use-react-screenshot';
import s from './Entry.module.scss';

function Entry() {
  const [, takeScreenshot] = useScreenshot();

  const ref = createRef();
  const getImage = async () => {
    const image = await takeScreenshot(ref.current);

    const downloadLink = document.createElement('a');
    const fileName = `entry-${Math.random().toString(36).substr(2)}.png`;

    downloadLink.href = image;
    downloadLink.download = fileName;
    downloadLink.click();
  };

  return (
    <>
      <div className={s.entry} ref={ref}>
        <h1 className={s.title} contentEditable suppressContentEditableWarning>
          başlık
        </h1>
        <div className={s.subtitle}>
          şükela:&nbsp;&nbsp;
          <div>tümü</div>
          <div>&nbsp;|&nbsp;</div>
          <div>bugün</div>
        </div>

        <div className={s.content} contentEditable suppressContentEditableWarning>
          <p>
            entry içeriği
          </p>
        </div>

        <div className={s.actions}>
          <div className={s.inner}>
            <div className={s.icon}>
              <svg viewBox="0 0 18 19" width={15} height={15} fill="#888">
                <path d="M3.18555 17.7871H14.416C16.291 17.7871 17.2383 16.8496 17.2383 14.9941V3.70508C17.2383 1.84961 16.291 0.902344 14.416 0.902344H3.18555C1.31055 0.902344 0.353516 1.83984 0.353516 3.70508V14.9941C0.353516 16.8594 1.31055 17.7871 3.18555 17.7871ZM3.20508 16.4395C2.23828 16.4395 1.70117 15.9219 1.70117 14.9258V3.77344C1.70117 2.76758 2.23828 2.25977 3.20508 2.25977H14.3867C15.3438 2.25977 15.8906 2.76758 15.8906 3.77344V14.9258C15.8906 15.9219 15.3438 16.4395 14.3867 16.4395H3.20508ZM8.80078 4.58398C8.61523 4.58398 8.47852 4.65234 8.3125 4.81836L5.10938 8.00195C5.00195 8.11914 4.94336 8.26562 4.94336 8.44141C4.94336 8.7832 5.20703 9.04688 5.55859 9.04688C5.73438 9.04688 5.89062 8.96875 5.99805 8.86133L7.26758 7.58203L8.23438 6.46875L8.16602 8.31445V13.4609C8.16602 13.832 8.42969 14.0859 8.80078 14.0859C9.16211 14.0859 9.42578 13.832 9.42578 13.4609V8.31445L9.36719 6.45898L10.334 7.58203L11.5938 8.86133C11.7109 8.97852 11.8574 9.04688 12.043 9.04688C12.3848 9.04688 12.6582 8.7832 12.6582 8.44141C12.6582 8.26562 12.5898 8.11914 12.4824 8.00195L9.28906 4.81836C9.13281 4.66211 8.98633 4.58398 8.80078 4.58398Z" />
              </svg>
            </div>
            <div className={s.icon}>
              <svg viewBox="0 0 18 19" width={15} height={15} fill="#888">
                <path d="M3.18555 17.7871H14.416C16.291 17.7871 17.2383 16.8496 17.2383 14.9941V3.70508C17.2383 1.84961 16.291 0.902344 14.416 0.902344H3.18555C1.31055 0.902344 0.353516 1.83984 0.353516 3.70508V14.9941C0.353516 16.8594 1.31055 17.7871 3.18555 17.7871ZM3.20508 16.4395C2.23828 16.4395 1.70117 15.9219 1.70117 14.9258V3.77344C1.70117 2.76758 2.23828 2.25977 3.20508 2.25977H14.3867C15.3438 2.25977 15.8906 2.76758 15.8906 3.77344V14.9258C15.8906 15.9219 15.3438 16.4395 14.3867 16.4395H3.20508ZM8.80078 14.1055C8.98633 14.1055 9.13281 14.0273 9.28906 13.8711L12.4824 10.6875C12.5898 10.5703 12.6582 10.4238 12.6582 10.248C12.6582 9.90625 12.3848 9.64258 12.043 9.64258C11.8574 9.64258 11.7109 9.71094 11.5938 9.82812L10.334 11.1074L9.36719 12.2305L9.42578 10.375V5.22852C9.42578 4.85742 9.16211 4.60352 8.80078 4.60352C8.42969 4.60352 8.16602 4.85742 8.16602 5.22852V10.375L8.23438 12.2207L7.26758 11.1074L5.99805 9.82812C5.89062 9.7207 5.73438 9.64258 5.55859 9.64258C5.20703 9.64258 4.94336 9.90625 4.94336 10.248C4.94336 10.4238 5.00195 10.5703 5.10938 10.6875L8.3125 13.8711C8.47852 14.0371 8.61523 14.1055 8.80078 14.1055Z" />
              </svg>
            </div>
          </div>

          <div className={s.inner}>
            <div className={s.icon}>
              <svg viewBox="0 0 17 21" width={15} height={15} fill="#888">
                <path d="M8.97422 13.3159C9.31118 13.3159 9.6133 13.037 9.6133 12.7001V3.11403L9.55519 1.77777L10.2756 2.52142L11.7396 4.05518C11.8558 4.18302 12.0185 4.25272 12.1812 4.25272C12.5065 4.25272 12.7622 4.00871 12.7622 3.68336C12.7622 3.50908 12.6924 3.38126 12.5762 3.26506L9.43899 0.209148C9.27632 0.0464745 9.13689 0 8.97422 0C8.81154 0 8.67212 0.0464745 8.50945 0.209148L5.36058 3.26506C5.24438 3.38126 5.17466 3.50908 5.17466 3.68336C5.17466 4.00871 5.41867 4.25272 5.75563 4.25272C5.90669 4.25272 6.08097 4.18302 6.19717 4.05518L7.66121 2.52142L8.38163 1.76616L8.33516 3.11403V12.7001C8.33516 13.037 8.62564 13.3159 8.97422 13.3159ZM3.73384 20.3805H14.1913C16.0388 20.3805 16.9684 19.4626 16.9684 17.65V8.44736C16.9684 6.64633 16.0388 5.71679 14.1913 5.71679H11.6351V7.00654H14.1681C15.1209 7.00654 15.6786 7.51779 15.6786 8.51706V17.5802C15.6786 18.5795 15.1209 19.0908 14.1681 19.0908H3.75709C2.79266 19.0908 2.25816 18.5795 2.25816 17.5802V8.51706C2.25816 7.51779 2.79266 7.00654 3.75709 7.00654H6.31337V5.71679H3.73384C1.89798 5.71679 0.968414 6.63472 0.968414 8.44736V17.65C0.968414 19.4626 1.89798 20.3805 3.73384 20.3805Z" />
              </svg>
            </div>
            <div className={s.icon}>
              <svg viewBox="0 0 32 32" width={30} height={30} fill="#888">
                <path d="M12.8145 16.3379C12.8145 15.6064 12.2266 15.0186 11.4814 15.0186C10.75 15.0186 10.1553 15.6064 10.1553 16.3379C10.1553 17.0693 10.75 17.6572 11.4814 17.6572C12.2197 17.6572 12.8145 17.0693 12.8145 16.3379ZM17.6064 16.3379C17.6064 15.6064 17.0254 15.0186 16.2939 15.0186C15.5625 15.0186 14.9746 15.6064 14.9746 16.3379C14.9746 17.0693 15.5625 17.6572 16.2939 17.6572C17.0186 17.6572 17.6064 17.0693 17.6064 16.3379ZM22.4258 16.3379C22.4258 15.6064 21.8379 15.0186 21.1064 15.0186C20.3613 15.0186 19.7734 15.6064 19.7734 16.3379C19.7734 17.0693 20.3613 17.6572 21.1064 17.6572C21.8311 17.6572 22.4258 17.0693 22.4258 16.3379Z" />
              </svg>
            </div>
          </div>
        </div>

        <div className={s.footer}>
          <div className={s.info}>
            <a contentEditable suppressContentEditableWarning>kullanıcı</a>
            <span contentEditable suppressContentEditableWarning>29.09.2014 10:53</span>
          </div>

          <div>
            <svg width="40" height="40" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="17" cy="17" r="16.5" fill="#F8F8F8" stroke="#9AA5B1" />
              <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="32" height="32">
                <circle cx="17" cy="17" r="16" fill="#D4D9DE" />
              </mask>
              <g mask="url(#mask0)">
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M24.5068 30.4636C24.4351 28.4793 23.6134 26.6007 22.2144 25.2228C20.8154 23.8449 18.9481 23.075 17.0051 23.075C15.0621 23.075 13.1949 23.8449 11.7959 25.2228C10.3968 26.6007 9.57511 28.4793 9.50341 30.4636V32H8V30.4636C8.00119 28.619 8.54502 26.8175 9.56088 25.2929C10.5767 23.7682 12.0177 22.591 13.6966 21.9139C12.3946 21.1672 11.3717 20.0005 10.7877 18.5963C10.2038 17.1921 10.0919 15.6297 10.4695 14.1535C10.8471 12.6774 11.6929 11.3708 12.8745 10.4383C14.0562 9.50583 15.507 9 17 9C18.493 9 19.9438 9.50583 21.1255 10.4383C22.3071 11.3708 23.1529 12.6774 23.5305 14.1535C23.9081 15.6297 23.7962 17.1921 23.2123 18.5963C22.6284 20.0005 21.6054 21.1672 20.3034 21.9139C21.9823 22.591 23.4233 23.7682 24.4391 25.2929C25.455 26.8175 25.9988 28.619 26 30.4636V32H24.4966L24.5068 30.4636ZM22.2568 15.8937C22.2568 14.8307 21.9482 13.7916 21.3702 12.9079C20.7921 12.0242 19.9705 11.3356 19.0093 10.9293C18.0482 10.523 16.9907 10.4173 15.9707 10.6254C14.9507 10.8335 14.014 11.3462 13.2793 12.0986C12.5445 12.851 12.0446 13.8092 11.8429 14.852C11.6413 15.8948 11.7468 16.9753 12.1463 17.9568C12.5457 18.9383 13.2211 19.7766 14.0869 20.3656C14.9527 20.9547 15.9701 21.268 17.0102 21.2659C18.4026 21.2632 19.7371 20.6959 20.7207 19.6887C21.7044 18.6815 22.2568 17.3167 22.2568 15.8937Z"
                  fill="#9AA5B1"
                />
              </g>
            </svg>
          </div>
        </div>
      </div>

      <div className={s.download} onClick={getImage}>
        Entry'i indir
      </div>
    </>
  );
}

export default Entry;
